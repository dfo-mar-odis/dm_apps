{% load static %}

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<script src="//cdn.jsdelivr.net/npm/medium-editor@latest/dist/js/medium-editor.min.js"></script>


<script type=" text/javascript" src="{% static "js/popItOut.js" %}?version=1.2"></script>
<script type="text/javascript" src="{% static "js/insertNote.js" %}"></script>
<script type="text/javascript" src="{% static "js/speak.js" %}"></script>
<script type="text/javascript" src="{% static "js/underDevelopment.js" %}"></script>
<script type="text/javascript" src="{% static "js/sorttable.js" %}"></script>
<script type="text/javascript" src="{% static "js/clickableTableRows.js" %}"></script>
<script type="text/javascript" src="{% static "js/filterForm.js" %}"></script>

<script src="{% static "js/chosen/chosen.jquery.js" %}" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="{% static 'lou-multi-select-e052211/js/jquery.multi-select.js' %}" type="text/javascript"></script>

{#    Medium-editor FROM https://github.com/yabwe/medium-editor#}
{#<script src="{% static 'js/medium-editor-master/dist/js/medium-editor.min.js' %}"></script>#}
{#    Medium-editor-tables FROM https://github.com/yabwe/medium-editor#}
<script src="{% static 'js/medium-editor-tables-master/dist/js/medium-editor-tables.min.js' %}"></script>


{# Initial JS statement#}
<script type="application/javascript">


    // Internet Explorer 6-11
    var isIE = /*@cc_on!@*/false || !!document.documentMode;
    if (isIE) {
        $("#browser-warning").removeClass("gone")
    }


    var config = {
        '.chosen-select': {placeholder_text_multiple: "Select multiple"},
        '.chosen-select-contains': {placeholder_text_multiple: "Select multiple", search_contains: true},
        '.chosen-select-deselect': {allow_single_deselect: true},
        '.chosen-select-no-single': {disable_search_threshold: 10},
        '.chosen-select-no-results': {no_results_text: 'Oops, nothing found!'},
        '.chosen-select-rtl': {rtl: true},
        '.chosen-select-width': {width: '95%'}
    };
    for (var selector in config) {
        $(selector).chosen(config[selector]);
    }


    var fpConfig = {
        '.fp-date': {},
        '.fp-date-time': {enableTime: true, time_24hr: true},
    };
    for (var selector in fpConfig) {
        $(selector).flatpickr(fpConfig[selector]);
        // gives a way for the user to clear the field!
        $(selector).keydown(function (event) {
            if (event.key == "Delete" || event.key == "Escape") {
                event.preventDefault()
                $(this).val("");
            }
        });
    }

    var msConfig = {
        '.multi-select': {},
    };
    for (var selector in msConfig) {
        $(selector).multiSelect(msConfig[selector]);
    }


    // for . editable things i.e. medium-editor / medium-editor-table
    var editor = new MediumEditor('.editable', {
        buttonLabels: 'fontawesome',
        extensions: {
            table: new MediumEditorTable()
        },
        toolbar: {
            buttons: [
                'h2',
                'bold',
                'italic',
                'unorderedlist',
                'orderedlist',
                'table'
            ],
            static: true,
            sticky: true
        }
    });

    // enable popovers everywhere
    $(function () {
        $('[data-toggle="popover"]').popover();
        $('[data-toggle="popover"]')[0].style.cursor = "pointer";
    });

</script>
